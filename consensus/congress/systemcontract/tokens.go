package systemcontract

import (
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/consensus/congress/vmcaller"
	"github.com/ethereum/go-ethereum/core"
	"github.com/ethereum/go-ethereum/core/state"
	"github.com/ethereum/go-ethereum/core/types"
	"github.com/ethereum/go-ethereum/log"
	"github.com/ethereum/go-ethereum/params"
	"math"
	"math/big"
)

var (
	tokensContractAddr = []string{
		"0x0000000000000000000000000000000000000000", //YOHO
		"0xAf660251fB99b6D2F8451141Eb66496Db86Db854", //BTC
		"0x93C5b4Ede699FD7c8153197a3c6466029115D386", //ETH
		"0x9Fba2Fb7d9ff9E078AB97c464C403Ea16577438e", //SAND
		"0x5a18165525B0f36Af8b30447603417BdcEF2b308", //DYDX
		"0x40057cD41E30fC93df89A2cE4c721321D69511E9", //GTC
		"0x2045923E053C4Fe0c10d1314c5907c69CB9A2736", //SHIB
		"0xC5030bC8C61A7e1906d4F58DAcc1004Ecd95EE5c", //MANA
		"0xAE87FA3c4dfe539aCE1F1CA8811a7f89a3088255", //MATIC
		"0xA128Bb904397d69F541Ccb1df74A04C71d0E3E61", //FIL
	}
	tokensContractAddrTestnet = []string{
		"0x2fC0eBefDD68134809Ee359BBC8A5576c3788120", //YOHO
		"0x5C8131B85bd4B7E79825AbF4e65F59aaB35710E1", //BTC
		"0x06D96D71BE4a95dd600BC3b2457CE5A8081E906B", //ETH
		"0x72A76E41E1d2dd3dc9F7dFA5742cf75fd75a7A3E", //SAND
		"0x13b980cE496bFa38D2F4e56CE1e4AcdA98F0E663", //DYDX
		"0x43eaCBb3B80101db8B1dA43FBF1a7c39bf1688c6", //GTC
		"0x5dA89EcE4cAbed50d6F588A341e8A278fE0D1240", //SHIB
		"0x1045d5Ecf939012b9f6db5C8bcc8F63b35C4355b", //MANA
		"0xE07333F2741E6304291107097543d9477A49C166", //MATIC
		"0xa59108B334F20e5a4685300c1580E1D32D8fAB5E", //FIL
	}

	logicContractAddr        = common.HexToAddress("0x0000000000000000000000000000000000000000")
	logicContractAddrTestnet = common.HexToAddress("0xafdF72D0def56d05A3782Fe44883515B384EF43A")

	proxyAdminContractAddr        = common.HexToAddress("0x0000000000000000000000000000000000000000")
	proxyAdminContractAddrTestnet = common.HexToAddress("0x84B32F180d889E6d35F9191eBd7f0a03Ff4947BE")
)

var (
	// Keep the order consistent with the above array
	tokensV1Code = []string{
		"0x6080604052600436106100225760003560e01c8063cf7a1d771461003957610031565b366100315761002f610059565b005b61002f610059565b34801561004557600080fd5b5061002f61005436600461068e565b61011c565b610061610134565b6001600160a01b0316336001600160a01b031614156101125760606001600160e01b031960003516631b2ce7f360e11b8114156100a7576100a061016e565b915061010a565b6001600160e01b0319811663278f794360e11b14156100c8576100a06101c5565b6001600160e01b031981166308f2839760e41b14156100e9576100a061020b565b60405162461bcd60e51b815260040161010190610821565b60405180910390fd5b815160208301f35b61011a61023c565b565b6101268382610254565b61012f82610264565b505050565b600061015f7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61036102b0565b546001600160a01b0316905090565b60606101786102b3565b60006101873660048184610889565b8101906101949190610624565b90506101b1816040518060200160405280600081525060006102be565b505060408051602081019091526000815290565b60606000806101d73660048184610889565b8101906101e49190610640565b915091506101f4828260016102be565b604051806020016040528060008152509250505090565b60606102156102b3565b60006102243660048184610889565b8101906102319190610624565b90506101b181610264565b61024461011a565b61011a61024f6102e9565b6102f8565b610260828260006102be565b5050565b7f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f61028d610134565b8260405161029c92919061070a565b60405180910390a16102ad8161031c565b50565b90565b341561011a57600080fd5b6102c78361038d565b6000825111806102d45750805b1561012f576102e383836103cd565b50505050565b60006102f36103f9565b905090565b3660008037600080366000845af43d6000803e808015610317573d6000f35b3d6000fd5b6001600160a01b0381166103425760405162461bcd60e51b815260040161010190610757565b8061036c7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d61036102b0565b80546001600160a01b0319166001600160a01b039290921691909117905550565b61039681610424565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b60606103f2838360405180606001604052806027815260200161090960279139610494565b9392505050565b600061015f7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc6102b0565b6000816001600160a01b0316803b806020016040519081016040528181526000908060200190933c511161046a5760405162461bcd60e51b81526004016101019061079d565b8061036c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc6102b0565b6060600080856001600160a01b0316856040516104b191906106ee565b600060405180830381855af49150503d80600081146104ec576040519150601f19603f3d011682016040523d82523d6000602084013e6104f1565b606091505b50915091506105028683838761050c565b9695505050505050565b60608315610567578251610560576000856001600160a01b0316803b806020016040519081016040528181526000908060200190933c51116105605760405162461bcd60e51b8152600401610101906107ea565b5081610571565b6105718383610579565b949350505050565b8151156105895781518083602001fd5b8060405162461bcd60e51b81526004016101019190610724565b600082601f8301126105b3578081fd5b813567ffffffffffffffff808211156105ce576105ce6108dd565b604051601f8301601f1916810160200182811182821017156105f2576105f26108dd565b604052828152848301602001861015610609578384fd5b82602086016020830137918201602001929092529392505050565b600060208284031215610635578081fd5b81356103f2816108f3565b60008060408385031215610652578081fd5b823561065d816108f3565b9150602083013567ffffffffffffffff811115610678578182fd5b610684858286016105a3565b9150509250929050565b6000806000606084860312156106a2578081fd5b83356106ad816108f3565b925060208401356106bd816108f3565b9150604084013567ffffffffffffffff8111156106d8578182fd5b6106e4868287016105a3565b9150509250925092565b600082516107008184602087016108b1565b9190910192915050565b6001600160a01b0392831681529116602082015260400190565b60006020825282518060208401526107438160408501602087016108b1565b601f01601f19169190910160400192915050565b60208082526026908201527f455243313936373a206e65772061646d696e20697320746865207a65726f206160408201526564647265737360d01b606082015260800190565b6020808252602d908201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60408201526c1bdd08184818dbdb9d1c9858dd609a1b606082015260800190565b6020808252601d908201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000604082015260600190565b60208082526042908201527f5472616e73706172656e745570677261646561626c6550726f78793a2061646d60408201527f696e2063616e6e6f742066616c6c6261636b20746f2070726f78792074617267606082015261195d60f21b608082015260a00190565b60008085851115610898578182fd5b838611156108a4578182fd5b5050820193919092039150565b60005b838110156108cc5781810151838201526020016108b4565b838111156102e35750506000910152565b634e487b7160e01b600052604160045260246000fd5b6001600160a01b03811681146102ad57600080fdfe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a264697066735822122053428179123ddf23f91fa5197050804cf2d94324b9d2deafba18ebb7634b7c8064736f6c63430008000033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a2646970667358221220943ffc295e0e55de91544de67d7aa3a80ef97be09f69c4213ec22ffb32f0804364736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a2646970667358221220267d74a840dd4d307dc11dd1871c111aec22a53c968cb709400346cf4087445d64736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a26469706673582212203606255f6ff0ebce946ba758b47ce9c60eb7168270b3cfff2cfa9a537f33e55864736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a2646970667358221220ad50cdd1c283ec7c0797d1aa0c78eb1387871fd17649d2e820e101e91ac0ebe264736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a264697066735822122081e1e16dcc85676d5040127ef4b80ae2255404008e3656ac84e590844969d1c764736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a264697066735822122063989d3538f146151a526aa04deebfed2a5feeb7df67d6f73a1f7926fb72b20e64736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a2646970667358221220b2dad7d0e4f8588ec14856f49a5bf93e54bd2f7bbdb1c937fca766dc6458ff0164736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a26469706673582212206a23a65015f34d5b0aea5c0e888a5f6394cd0c6f393de86eafb65ce461516b0564736f6c634300060c0033",
		"0x608060405234801561001057600080fd5b50600436106101375760003560e01c8063893d20e8116100b8578063a9059cbb1161007c578063a9059cbb14610365578063b09f126614610391578063c47f002714610399578063d28d88521461043f578063dd62ed3e14610447578063f2fde38b1461047557610137565b8063893d20e8146102e85780638da5cb5b1461030c57806395d89b4114610314578063a0712d681461031c578063a457c2d71461033957610137565b806332424aa3116100ff57806332424aa314610267578063395093511461026f57806342966c681461029b57806370a08231146102b8578063715018a6146102de57610137565b806306fdde031461013c578063095ea7b3146101b957806318160ddd146101f957806323b872dd14610213578063313ce56714610249575b600080fd5b61014461049b565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561017e578181015183820152602001610166565b50505050905090810190601f1680156101ab5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101e5600480360360408110156101cf57600080fd5b506001600160a01b038135169060200135610531565b604080519115158252519081900360200190f35b61020161054e565b60408051918252519081900360200190f35b6101e56004803603606081101561022957600080fd5b506001600160a01b03813581169160208101359091169060400135610554565b6102516105db565b6040805160ff9092168252519081900360200190f35b6102516105e4565b6101e56004803603604081101561028557600080fd5b506001600160a01b0381351690602001356105ed565b6101e5600480360360208110156102b157600080fd5b503561063b565b610201600480360360208110156102ce57600080fd5b50356001600160a01b0316610656565b6102e6610671565b005b6102f0610713565b604080516001600160a01b039092168252519081900360200190f35b6102f0610722565b610144610731565b6101e56004803603602081101561033257600080fd5b5035610792565b6101e56004803603604081101561034f57600080fd5b506001600160a01b0381351690602001356107fd565b6101e56004803603604081101561037b57600080fd5b506001600160a01b038135169060200135610865565b610144610879565b6101e5600480360360208110156103af57600080fd5b8101906020810181356401000000008111156103ca57600080fd5b8201836020820111156103dc57600080fd5b803590602001918460018302840111640100000000831117156103fe57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610907945050505050565b610144610b13565b6102016004803603604081101561045d57600080fd5b506001600160a01b0381358116916020013516610b6e565b6102e66004803603602081101561048b57600080fd5b50356001600160a01b0316610b99565b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b820191906000526020600020905b81548152906001019060200180831161050a57829003601f168201915b5050505050905090565b600061054561053e610bfd565b8484610c01565b50600192915050565b60035490565b6000610561848484610ced565b6105d18461056d610bfd565b6105cc856040518060600160405280602881526020016112a5602891396001600160a01b038a166000908152600260205260408120906105ab610bfd565b6001600160a01b031681526020810191909152604001600020549190610e3f565b610c01565b5060019392505050565b60045460ff1690565b60045460ff1681565b60006105456105fa610bfd565b846105cc856002600061060b610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918c168152925290205490610ed6565b600061064e610648610bfd565b83610f37565b506001919050565b6001600160a01b031660009081526001602052604090205490565b610679610bfd565b6000546001600160a01b039081169116146106c9576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b600061071d610722565b905090565b6000546001600160a01b031690565b60058054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156105275780601f106104fc57610100808354040283529160200191610527565b600061079c610bfd565b6000546001600160a01b039081169116146107ec576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b61064e6107f7610bfd565b83611027565b600061054561080a610bfd565b846105cc856040518060600160405280602581526020016113a46025913960026000610834610bfd565b6001600160a01b03908116825260208083019390935260409182016000908120918d16815292529020549190610e3f565b6000610545610872610bfd565b8484610ced565b6005805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b820191906000526020600020905b8154815290600101906020018083116108e257829003601f168201915b505050505081565b6000610911610bfd565b6000546001600160a01b03908116911614610961576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b60068054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156109ed5780601f106109c2576101008083540402835291602001916109ed565b820191906000526020600020905b8154815290600101906020018083116109d057829003601f168201915b50508651939450610a09936006935060208801925090506111ef565b507f6c20b91d1723b78732eba64ff11ebd7966a6e4af568a00fa4f6b72c20f58b02a8184604051808060200180602001838103835285818151815260200191508051906020019080838360005b83811015610a6e578181015183820152602001610a56565b50505050905090810190601f168015610a9b5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015610ace578181015183820152602001610ab6565b50505050905090810190601f168015610afb5780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a150600192915050565b6006805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156108ff5780601f106108d4576101008083540402835291602001916108ff565b6001600160a01b03918216600090815260026020908152604080832093909416825291909152205490565b610ba1610bfd565b6000546001600160a01b03908116911614610bf1576040805162461bcd60e51b815260206004820181905260248201526000805160206113c9833981519152604482015290519081900360640190fd5b610bfa8161110d565b50565b3390565b6001600160a01b038316610c465760405162461bcd60e51b81526004018080602001828103825260248152602001806113e96024913960400191505060405180910390fd5b6001600160a01b038216610c8b5760405162461bcd60e51b81526004018080602001828103825260228152602001806112836022913960400191505060405180910390fd5b6001600160a01b03808416600081815260026020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b038316610d325760405162461bcd60e51b815260040180806020018281038252602581526020018061135c6025913960400191505060405180910390fd5b6001600160a01b038216610d775760405162461bcd60e51b81526004018080602001828103825260238152602001806113816023913960400191505060405180910390fd5b610db481604051806060016040528060268152602001611336602691396001600160a01b0386166000908152600160205260409020549190610e3f565b6001600160a01b038085166000908152600160205260408082209390935590841681522054610de39082610ed6565b6001600160a01b0380841660008181526001602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610ece5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610e93578181015183820152602001610e7b565b50505050905090810190601f168015610ec05780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610f30576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b6001600160a01b038216610f7c5760405162461bcd60e51b81526004018080602001828103825260218152602001806113156021913960400191505060405180910390fd5b610fb9816040518060600160405280602281526020016112f3602291396001600160a01b0385166000908152600160205260409020549190610e3f565b6001600160a01b038316600090815260016020526040902055600354610fdf90826111ad565b6003556040805182815290516000916001600160a01b038516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050565b6001600160a01b038216611082576040805162461bcd60e51b815260206004820152601f60248201527f41524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b60035461108f9082610ed6565b6003556001600160a01b0382166000908152600160205260409020546110b59082610ed6565b6001600160a01b03831660008181526001602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b6001600160a01b0381166111525760405162461bcd60e51b81526004018080602001828103825260268152602001806112cd6026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610f3083836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610e3f565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061123057805160ff191683800117855561125d565b8280016001018555821561125d579182015b8281111561125d578251825591602001919060010190611242565b5061126992915061126d565b5090565b5b80821115611269576000815560010161126e56fe41524332303a20617070726f766520746f20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737341524332303a206275726e20616d6f756e7420657863656564732062616c616e636541524332303a206275726e2066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636541524332303a207472616e736665722066726f6d20746865207a65726f206164647265737341524332303a207472616e7366657220746f20746865207a65726f206164647265737341524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657241524332303a20617070726f76652066726f6d20746865207a65726f2061646472657373a264697066735822122054196fd702833c564127b3077f8465e0c814af3204a9c8a22a9c7d2b9ce8a58564736f6c634300060c0033",
	}
)

type hardForkTokens struct {
}

func (s *hardForkTokens) GetName() string {
	return TokensContractName
}

func (s *hardForkTokens) getContractAddrByChainId(chainId *big.Int, height *big.Int, i int) common.Address {
	if chainId.Cmp(params.MainnetChainConfig.GetChainId(height)) == 0 {
		return common.HexToAddress(tokensContractAddr[i])
	}

	return common.HexToAddress(tokensContractAddrTestnet[i])
}

func (s *hardForkTokens) getAdminByChainId(chainId *big.Int, header *types.Header) common.Address {
	if chainId.Cmp(params.MainnetChainConfig.GetChainId(header.Number)) == 0 {
		return waiaAdmin
	}

	return waiaAdminTestnet
}

func (s *hardForkTokens) getLogicByChainId(chainId *big.Int, header *types.Header) common.Address {
	if chainId.Cmp(params.MainnetChainConfig.GetChainId(header.Number)) == 0 {
		return logicContractAddr
	}

	return logicContractAddrTestnet
}

func (s *hardForkTokens) getProxyAdminByChainId(chainId *big.Int, header *types.Header) common.Address {
	if chainId.Cmp(params.MainnetChainConfig.GetChainId(header.Number)) == 0 {
		return proxyAdminContractAddr
	}

	return proxyAdminContractAddrTestnet
}

func (s *hardForkTokens) Update(config *params.ChainConfig, height *big.Int, state *state.StateDB) (err error) {
	var i = 0
	if config.GetChainId(height).Cmp(params.MainnetChainConfig.GetChainId(height)) == 0 {
		// mainnet no need to upgrade yoho
		log.Info("Tokens Update mainnet no need to upgrade")
		i = 1
	}

	for ; i < len(tokensContractAddr); i++ {
		contractCode := common.FromHex(tokensV1Code[i])
		//write tokenCode to token contract
		addr := s.getContractAddrByChainId(config.GetChainId(height), height, i)
		state.SetCode(addr, contractCode)
		log.Debug("Upgrade code to token contract account", "addr", addr.String(), "code", tokensV1Code[i])
	}
	return
}

func (s *hardForkTokens) Execute(state *state.StateDB, header *types.Header, chainContext core.ChainContext, config *params.ChainConfig) (err error) {
	// mainnet no need to upgrade yoho
	if config.GetChainId(header.Number).Cmp(params.MainnetChainConfig.GetChainId(header.Number)) == 0 {
		log.Info("Tokens Execute mainnet no need to execute anything")
		return
	}

	// only YOHO token need to do this
	method := "initialize"
	logic := s.getLogicByChainId(config.GetChainId(header.Number), header)
	admin := s.getProxyAdminByChainId(config.GetChainId(header.Number), header)

	if !state.Exist(logic) || !state.Exist(admin) {
		log.Warn("Logic or admin not exist", "logic", logic.String(), "proxy admin", admin.String())
		return nil
	}

	data, err := GetInteractiveABI()[TokensContractName].Pack(method, logic, admin, []byte(""))
	if err != nil {
		log.Error("Can't pack data for initialize", "error", err)
		return err
	}

	addr := s.getContractAddrByChainId(config.GetChainId(header.Number), header.Number, 0)
	msg := vmcaller.NewLegacyMessage(header.Coinbase, &addr, 0, new(big.Int), math.MaxUint64, new(big.Int), data, false)
	_, err = vmcaller.ExecuteMsg(msg, state, header, chainContext, config)

	return
}
